!function i(o,a,c){function s(t,n){if(!a[t]){if(!o[t]){var e="function"==typeof require&&require;if(!n&&e)return e(t,!0);if(f)return f(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var u=a[t]={exports:{}};o[t][0].call(u.exports,function(n){return s(o[t][1][n]||n)},u,u.exports,i,o,a,c)}return a[t].exports}for(var f="function"==typeof require&&require,n=0;n<c.length;n++)s(c[n]);return s}({1:[function(n,Q,X){(function($){!function(){var n="object"==typeof self&&self.self===self&&self||"object"==typeof $&&$.global===$&&$||this||{},t=n._,r=Array.prototype,o=Object.prototype,l="undefined"!=typeof Symbol?Symbol.prototype:null,u=r.push,c=r.slice,p=o.toString,i=o.hasOwnProperty,e=Array.isArray,a=Object.keys,s=Object.create,f=function(){},h=function(n){return n instanceof h?n:this instanceof h?void(this._wrapped=n):new h(n)};void 0===X||X.nodeType?n._=h:(void 0!==Q&&!Q.nodeType&&Q.exports&&(X=Q.exports=h),X._=h),h.VERSION="1.9.1";var y,v=function(u,i,n){if(void 0===i)return u;switch(null==n?3:n){case 1:return function(n){return u.call(i,n)};case 3:return function(n,t,e){return u.call(i,n,t,e)};case 4:return function(n,t,e,r){return u.call(i,n,t,e,r)}}return function(){return u.apply(i,arguments)}},g=function(n,t,e){return h.iteratee!==y?h.iteratee(n,t):null==n?h.identity:h.isFunction(n)?v(n,t,e):h.isObject(n)&&!h.isArray(n)?h.matcher(n):h.property(n)};h.iteratee=y=function(n,t){return g(n,t,1/0)};var d=function(u,i){return i=null==i?u.length-1:+i,function(){for(var n=Math.max(arguments.length-i,0),t=Array(n),e=0;e<n;e++)t[e]=arguments[e+i];switch(i){case 0:return u.call(this,t);case 1:return u.call(this,arguments[0],t);case 2:return u.call(this,arguments[0],arguments[1],t)}var r=Array(i+1);for(e=0;e<i;e++)r[e]=arguments[e];return r[i]=t,u.apply(this,r)}},m=function(n){if(!h.isObject(n))return{};if(s)return s(n);f.prototype=n;var t=new f;return f.prototype=null,t},b=function(t){return function(n){return null==n?void 0:n[t]}},k=function(n,t){return null!=n&&i.call(n,t)},_=function(n,t){for(var e=t.length,r=0;r<e;r++){if(null==n)return;n=n[t[r]]}return e?n:void 0},w=Math.pow(2,53)-1,j=b("length"),O=function(n){var t=j(n);return"number"==typeof t&&0<=t&&t<=w};h.each=h.forEach=function(n,t,e){var r,u;if(t=v(t,e),O(n))for(r=0,u=n.length;r<u;r++)t(n[r],r,n);else{var i=h.keys(n);for(r=0,u=i.length;r<u;r++)t(n[i[r]],i[r],n)}return n},h.map=h.collect=function(n,t,e){t=g(t,e);for(var r=!O(n)&&h.keys(n),u=(r||n).length,i=Array(u),o=0;o<u;o++){var a=r?r[o]:o;i[o]=t(n[a],a,n)}return i};var x=function(c){return function(n,t,e,r){var u=3<=arguments.length;return function(n,t,e,r){var u=!O(n)&&h.keys(n),i=(u||n).length,o=0<c?0:i-1;for(r||(e=n[u?u[o]:o],o+=c);0<=o&&o<i;o+=c){var a=u?u[o]:o;e=t(e,n[a],a,n)}return e}(n,v(t,r,4),e,u)}};h.reduce=h.foldl=h.inject=x(1),h.reduceRight=h.foldr=x(-1),h.find=h.detect=function(n,t,e){var r=(O(n)?h.findIndex:h.findKey)(n,t,e);if(void 0!==r&&-1!==r)return n[r]},h.filter=h.select=function(n,r,t){var u=[];return r=g(r,t),h.each(n,function(n,t,e){r(n,t,e)&&u.push(n)}),u},h.reject=function(n,t,e){return h.filter(n,h.negate(g(t)),e)},h.every=h.all=function(n,t,e){t=g(t,e);for(var r=!O(n)&&h.keys(n),u=(r||n).length,i=0;i<u;i++){var o=r?r[i]:i;if(!t(n[o],o,n))return!1}return!0},h.some=h.any=function(n,t,e){t=g(t,e);for(var r=!O(n)&&h.keys(n),u=(r||n).length,i=0;i<u;i++){var o=r?r[i]:i;if(t(n[o],o,n))return!0}return!1},h.contains=h.includes=h.include=function(n,t,e,r){return O(n)||(n=h.values(n)),("number"!=typeof e||r)&&(e=0),0<=h.indexOf(n,t,e)},h.invoke=d(function(n,e,r){var u,i;return h.isFunction(e)?i=e:h.isArray(e)&&(u=e.slice(0,-1),e=e[e.length-1]),h.map(n,function(n){var t=i;if(!t){if(u&&u.length&&(n=_(n,u)),null==n)return;t=n[e]}return null==t?t:t.apply(n,r)})}),h.pluck=function(n,t){return h.map(n,h.property(t))},h.where=function(n,t){return h.filter(n,h.matcher(t))},h.findWhere=function(n,t){return h.find(n,h.matcher(t))},h.max=function(n,r,t){var e,u,i=-1/0,o=-1/0;if(null==r||"number"==typeof r&&"object"!=typeof n[0]&&null!=n)for(var a=0,c=(n=O(n)?n:h.values(n)).length;a<c;a++)null!=(e=n[a])&&i<e&&(i=e);else r=g(r,t),h.each(n,function(n,t,e){u=r(n,t,e),(o<u||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},h.min=function(n,r,t){var e,u,i=1/0,o=1/0;if(null==r||"number"==typeof r&&"object"!=typeof n[0]&&null!=n)for(var a=0,c=(n=O(n)?n:h.values(n)).length;a<c;a++)null!=(e=n[a])&&e<i&&(i=e);else r=g(r,t),h.each(n,function(n,t,e){((u=r(n,t,e))<o||u===1/0&&i===1/0)&&(i=n,o=u)});return i},h.shuffle=function(n){return h.sample(n,1/0)},h.sample=function(n,t,e){if(null==t||e)return O(n)||(n=h.values(n)),n[h.random(n.length-1)];var r=O(n)?h.clone(n):h.values(n),u=j(r);t=Math.max(Math.min(t,u),0);for(var i=u-1,o=0;o<t;o++){var a=h.random(o,i),c=r[o];r[o]=r[a],r[a]=c}return r.slice(0,t)},h.sortBy=function(n,r,t){var u=0;return r=g(r,t),h.pluck(h.map(n,function(n,t,e){return{value:n,index:u++,criteria:r(n,t,e)}}).sort(function(n,t){var e=n.criteria,r=t.criteria;if(e!==r){if(r<e||void 0===e)return 1;if(e<r||void 0===r)return-1}return n.index-t.index}),"value")};var T=function(o,t){return function(r,u,n){var i=t?[[],[]]:{};return u=g(u,n),h.each(r,function(n,t){var e=u(n,t,r);o(i,n,e)}),i}};h.groupBy=T(function(n,t,e){k(n,e)?n[e].push(t):n[e]=[t]}),h.indexBy=T(function(n,t,e){n[e]=t}),h.countBy=T(function(n,t,e){k(n,e)?n[e]++:n[e]=1});var S=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;h.toArray=function(n){return n?h.isArray(n)?c.call(n):h.isString(n)?n.match(S):O(n)?h.map(n,h.identity):h.values(n):[]},h.size=function(n){return null==n?0:O(n)?n.length:h.keys(n).length},h.partition=T(function(n,t,e){n[e?0:1].push(t)},!0),h.first=h.head=h.take=function(n,t,e){return null==n||n.length<1?null==t?void 0:[]:null==t||e?n[0]:h.initial(n,n.length-t)},h.initial=function(n,t,e){return c.call(n,0,Math.max(0,n.length-(null==t||e?1:t)))},h.last=function(n,t,e){return null==n||n.length<1?null==t?void 0:[]:null==t||e?n[n.length-1]:h.rest(n,Math.max(0,n.length-t))},h.rest=h.tail=h.drop=function(n,t,e){return c.call(n,null==t||e?1:t)},h.compact=function(n){return h.filter(n,Boolean)};var A=function(n,t,e,r){for(var u=(r=r||[]).length,i=0,o=j(n);i<o;i++){var a=n[i];if(O(a)&&(h.isArray(a)||h.isArguments(a)))if(t)for(var c=0,s=a.length;c<s;)r[u++]=a[c++];else A(a,t,e,r),u=r.length;else e||(r[u++]=a)}return r};h.flatten=function(n,t){return A(n,t,!1)},h.without=d(function(n,t){return h.difference(n,t)}),h.uniq=h.unique=function(n,t,e,r){h.isBoolean(t)||(r=e,e=t,t=!1),null!=e&&(e=g(e,r));for(var u=[],i=[],o=0,a=j(n);o<a;o++){var c=n[o],s=e?e(c,o,n):c;t&&!e?(o&&i===s||u.push(c),i=s):e?h.contains(i,s)||(i.push(s),u.push(c)):h.contains(u,c)||u.push(c)}return u},h.union=d(function(n){return h.uniq(A(n,!0,!0))}),h.intersection=function(n){for(var t=[],e=arguments.length,r=0,u=j(n);r<u;r++){var i=n[r];if(!h.contains(t,i)){var o;for(o=1;o<e&&h.contains(arguments[o],i);o++);o===e&&t.push(i)}}return t},h.difference=d(function(n,t){return t=A(t,!0,!0),h.filter(n,function(n){return!h.contains(t,n)})}),h.unzip=function(n){for(var t=n&&h.max(n,j).length||0,e=Array(t),r=0;r<t;r++)e[r]=h.pluck(n,r);return e},h.zip=d(h.unzip),h.object=function(n,t){for(var e={},r=0,u=j(n);r<u;r++)t?e[n[r]]=t[r]:e[n[r][0]]=n[r][1];return e};var E=function(i){return function(n,t,e){t=g(t,e);for(var r=j(n),u=0<i?0:r-1;0<=u&&u<r;u+=i)if(t(n[u],u,n))return u;return-1}};h.findIndex=E(1),h.findLastIndex=E(-1),h.sortedIndex=function(n,t,e,r){for(var u=(e=g(e,r,1))(t),i=0,o=j(n);i<o;){var a=Math.floor((i+o)/2);e(n[a])<u?i=a+1:o=a}return i};var N=function(i,o,a){return function(n,t,e){var r=0,u=j(n);if("number"==typeof e)0<i?r=0<=e?e:Math.max(e+u,r):u=0<=e?Math.min(e+1,u):e+u+1;else if(a&&e&&u)return n[e=a(n,t)]===t?e:-1;if(t!=t)return 0<=(e=o(c.call(n,r,u),h.isNaN))?e+r:-1;for(e=0<i?r:u-1;0<=e&&e<u;e+=i)if(n[e]===t)return e;return-1}};h.indexOf=N(1,h.findIndex,h.sortedIndex),h.lastIndexOf=N(-1,h.findLastIndex),h.range=function(n,t,e){null==t&&(t=n||0,n=0),e||(e=t<n?-1:1);for(var r=Math.max(Math.ceil((t-n)/e),0),u=Array(r),i=0;i<r;i++,n+=e)u[i]=n;return u},h.chunk=function(n,t){if(null==t||t<1)return[];for(var e=[],r=0,u=n.length;r<u;)e.push(c.call(n,r,r+=t));return e};var M=function(n,t,e,r,u){if(!(r instanceof t))return n.apply(e,u);var i=m(n.prototype),o=n.apply(i,u);return h.isObject(o)?o:i};h.bind=d(function(t,e,r){if(!h.isFunction(t))throw new TypeError("Bind must be called on a function");var u=d(function(n){return M(t,u,e,this,r.concat(n))});return u}),h.partial=d(function(u,i){var o=h.partial.placeholder,a=function(){for(var n=0,t=i.length,e=Array(t),r=0;r<t;r++)e[r]=i[r]===o?arguments[n++]:i[r];for(;n<arguments.length;)e.push(arguments[n++]);return M(u,a,this,this,e)};return a}),(h.partial.placeholder=h).bindAll=d(function(n,t){var e=(t=A(t,!1,!1)).length;if(e<1)throw new Error("bindAll must be passed function names");for(;e--;){var r=t[e];n[r]=h.bind(n[r],n)}}),h.memoize=function(r,u){var i=function(n){var t=i.cache,e=""+(u?u.apply(this,arguments):n);return k(t,e)||(t[e]=r.apply(this,arguments)),t[e]};return i.cache={},i},h.delay=d(function(n,t,e){return setTimeout(function(){return n.apply(null,e)},t)}),h.defer=h.partial(h.delay,h,1),h.throttle=function(e,r,u){var i,o,a,c,s=0;u||(u={});var f=function(){s=!1===u.leading?0:h.now(),i=null,c=e.apply(o,a),i||(o=a=null)},n=function(){var n=h.now();s||!1!==u.leading||(s=n);var t=r-(n-s);return o=this,a=arguments,t<=0||r<t?(i&&(clearTimeout(i),i=null),s=n,c=e.apply(o,a),i||(o=a=null)):i||!1===u.trailing||(i=setTimeout(f,t)),c};return n.cancel=function(){clearTimeout(i),s=0,i=o=a=null},n},h.debounce=function(e,r,u){var i,o,a=function(n,t){i=null,t&&(o=e.apply(n,t))},n=d(function(n){if(i&&clearTimeout(i),u){var t=!i;i=setTimeout(a,r),t&&(o=e.apply(this,n))}else i=h.delay(a,r,this,n);return o});return n.cancel=function(){clearTimeout(i),i=null},n},h.wrap=function(n,t){return h.partial(t,n)},h.negate=function(n){return function(){return!n.apply(this,arguments)}},h.compose=function(){var e=arguments,r=e.length-1;return function(){for(var n=r,t=e[r].apply(this,arguments);n--;)t=e[n].call(this,t);return t}},h.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},h.before=function(n,t){var e;return function(){return 0<--n&&(e=t.apply(this,arguments)),n<=1&&(t=null),e}},h.once=h.partial(h.before,2),h.restArguments=d;var F=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],P=function(n,t){var e=I.length,r=n.constructor,u=h.isFunction(r)&&r.prototype||o,i="constructor";for(k(n,i)&&!h.contains(t,i)&&t.push(i);e--;)(i=I[e])in n&&n[i]!==u[i]&&!h.contains(t,i)&&t.push(i)};h.keys=function(n){if(!h.isObject(n))return[];if(a)return a(n);var t=[];for(var e in n)k(n,e)&&t.push(e);return F&&P(n,t),t},h.allKeys=function(n){if(!h.isObject(n))return[];var t=[];for(var e in n)t.push(e);return F&&P(n,t),t},h.values=function(n){for(var t=h.keys(n),e=t.length,r=Array(e),u=0;u<e;u++)r[u]=n[t[u]];return r},h.mapObject=function(n,t,e){t=g(t,e);for(var r=h.keys(n),u=r.length,i={},o=0;o<u;o++){var a=r[o];i[a]=t(n[a],a,n)}return i},h.pairs=function(n){for(var t=h.keys(n),e=t.length,r=Array(e),u=0;u<e;u++)r[u]=[t[u],n[t[u]]];return r},h.invert=function(n){for(var t={},e=h.keys(n),r=0,u=e.length;r<u;r++)t[n[e[r]]]=e[r];return t},h.functions=h.methods=function(n){var t=[];for(var e in n)h.isFunction(n[e])&&t.push(e);return t.sort()};var B=function(c,s){return function(n){var t=arguments.length;if(s&&(n=Object(n)),t<2||null==n)return n;for(var e=1;e<t;e++)for(var r=arguments[e],u=c(r),i=u.length,o=0;o<i;o++){var a=u[o];s&&void 0!==n[a]||(n[a]=r[a])}return n}};h.extend=B(h.allKeys),h.extendOwn=h.assign=B(h.keys),h.findKey=function(n,t,e){t=g(t,e);for(var r,u=h.keys(n),i=0,o=u.length;i<o;i++)if(t(n[r=u[i]],r,n))return r};var q,C,R=function(n,t,e){return t in e};h.pick=d(function(n,t){var e={},r=t[0];if(null==n)return e;h.isFunction(r)?(1<t.length&&(r=v(r,t[1])),t=h.allKeys(n)):(r=R,t=A(t,!1,!1),n=Object(n));for(var u=0,i=t.length;u<i;u++){var o=t[u],a=n[o];r(a,o,n)&&(e[o]=a)}return e}),h.omit=d(function(n,e){var t,r=e[0];return h.isFunction(r)?(r=h.negate(r),1<e.length&&(t=e[1])):(e=h.map(A(e,!1,!1),String),r=function(n,t){return!h.contains(e,t)}),h.pick(n,r,t)}),h.defaults=B(h.allKeys,!0),h.create=function(n,t){var e=m(n);return t&&h.extendOwn(e,t),e},h.clone=function(n){return h.isObject(n)?h.isArray(n)?n.slice():h.extend({},n):n},h.tap=function(n,t){return t(n),n},h.isMatch=function(n,t){var e=h.keys(t),r=e.length;if(null==n)return!r;for(var u=Object(n),i=0;i<r;i++){var o=e[i];if(t[o]!==u[o]||!(o in u))return!1}return!0},q=function(n,t,e,r){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return!1;if(n!=n)return t!=t;var u=typeof n;return("function"===u||"object"===u||"object"==typeof t)&&C(n,t,e,r)},C=function(n,t,e,r){n instanceof h&&(n=n._wrapped),t instanceof h&&(t=t._wrapped);var u=p.call(n);if(u!==p.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!=+n?+t!=+t:0==+n?1/+n==1/t:+n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object Symbol]":return l.valueOf.call(n)===l.valueOf.call(t)}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(h.isFunction(o)&&o instanceof o&&h.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[];for(var c=(e=e||[]).length;c--;)if(e[c]===n)return r[c]===t;if(e.push(n),r.push(t),i){if((c=n.length)!==t.length)return!1;for(;c--;)if(!q(n[c],t[c],e,r))return!1}else{var s,f=h.keys(n);if(c=f.length,h.keys(t).length!==c)return!1;for(;c--;)if(s=f[c],!k(t,s)||!q(n[s],t[s],e,r))return!1}return e.pop(),r.pop(),!0},h.isEqual=function(n,t){return q(n,t)},h.isEmpty=function(n){return null==n||(O(n)&&(h.isArray(n)||h.isString(n)||h.isArguments(n))?0===n.length:0===h.keys(n).length)},h.isElement=function(n){return!(!n||1!==n.nodeType)},h.isArray=e||function(n){return"[object Array]"===p.call(n)},h.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},h.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){h["is"+t]=function(n){return p.call(n)==="[object "+t+"]"}}),h.isArguments(arguments)||(h.isArguments=function(n){return k(n,"callee")});var L=n.document&&n.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof L&&(h.isFunction=function(n){return"function"==typeof n||!1}),h.isFinite=function(n){return!h.isSymbol(n)&&isFinite(n)&&!isNaN(parseFloat(n))},h.isNaN=function(n){return h.isNumber(n)&&isNaN(n)},h.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"===p.call(n)},h.isNull=function(n){return null===n},h.isUndefined=function(n){return void 0===n},h.has=function(n,t){if(!h.isArray(t))return k(n,t);for(var e=t.length,r=0;r<e;r++){var u=t[r];if(null==n||!i.call(n,u))return!1;n=n[u]}return!!e},h.noConflict=function(){return n._=t,this},h.identity=function(n){return n},h.constant=function(n){return function(){return n}},h.noop=function(){},h.property=function(t){return h.isArray(t)?function(n){return _(n,t)}:b(t)},h.propertyOf=function(t){return null==t?function(){}:function(n){return h.isArray(n)?_(t,n):t[n]}},h.matcher=h.matches=function(t){return t=h.extendOwn({},t),function(n){return h.isMatch(n,t)}},h.times=function(n,t,e){var r=Array(Math.max(0,n));t=v(t,e,1);for(var u=0;u<n;u++)r[u]=t(u);return r},h.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},h.now=Date.now||function(){return(new Date).getTime()};var W={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},D=h.invert(W),K=function(t){var e=function(n){return t[n]},n="(?:"+h.keys(t).join("|")+")",r=RegExp(n),u=RegExp(n,"g");return function(n){return n=null==n?"":""+n,r.test(n)?n.replace(u,e):n}};h.escape=K(W),h.unescape=K(D),h.result=function(n,t,e){h.isArray(t)||(t=[t]);var r=t.length;if(!r)return h.isFunction(e)?e.call(n):e;for(var u=0;u<r;u++){var i=null==n?void 0:n[t[u]];void 0===i&&(i=e,u=r),n=h.isFunction(i)?i.call(n):i}return n};var z=0;h.uniqueId=function(n){var t=++z+"";return n?n+t:t},h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,G={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,J=function(n){return"\\"+G[n]};h.template=function(i,n,t){!n&&t&&(n=t),n=h.defaults({},n,h.templateSettings);var e,r=RegExp([(n.escape||U).source,(n.interpolate||U).source,(n.evaluate||U).source].join("|")+"|$","g"),o=0,a="__p+='";i.replace(r,function(n,t,e,r,u){return a+=i.slice(o,u).replace(H,J),o=u+n.length,t?a+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":e?a+="'+\n((__t=("+e+"))==null?'':__t)+\n'":r&&(a+="';\n"+r+"\n__p+='"),n}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(n.variable||"obj","_",a)}catch(n){throw n.source=a,n}var u=function(n){return e.call(this,n,h)},c=n.variable||"obj";return u.source="function("+c+"){\n"+a+"}",u},h.chain=function(n){var t=h(n);return t._chain=!0,t};var V=function(n,t){return n._chain?h(t).chain():t};h.mixin=function(e){return h.each(h.functions(e),function(n){var t=h[n]=e[n];h.prototype[n]=function(){var n=[this._wrapped];return u.apply(n,arguments),V(this,t.apply(h,n))}}),h},h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=r[t];h.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],V(this,n)}}),h.each(["concat","join","slice"],function(n){var t=r[n];h.prototype[n]=function(){return V(this,t.apply(this._wrapped,arguments))}}),h.prototype.value=function(){return this._wrapped},h.prototype.valueOf=h.prototype.toJSON=h.prototype.value,h.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return h})}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(n,t,e){"use strict";var u=function(){function r(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(n,t,e){return t&&r(n.prototype,t),e&&r(n,e),n}}();var i=n("underscore"),o=["form","lemma","upostag","xpostag","feats","head","deprel","deps","misc"];function a(n){return(n||"").replace(/( |\t|\n)/g,"")}var r=function(n){function r(n,t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var e=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return e.token=n,e.sentence=n.sentence,e.params=t,i.each(t,function(n,t){-1<o.indexOf(t)&&(e[t]=n)}),e.id=null,e.superToken=null,e.subTokens=[],e}return function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}(r,Object),u(r,[{key:"getSubToken",value:function(n){return this.subTokens[n]||null}},{key:"length",get:function(){return this.subTokens.length}},{key:"conllu",get:function(){var t=this;return this.id+"\t"+i.map(o,function(n){return t[n]||"_"}).join("\t")}},{key:"cg3",get:function(){}},{key:"form",get:function(){return this._form},set:function(n){this._form=a(n)}},{key:"lemma",get:function(){return this._lemma},set:function(n){this._lemma=a(n)}},{key:"upostag",get:function(){return this._upostag},set:function(n){this._upostag=a(n)}},{key:"xpostag",get:function(){return this._xpostag},set:function(n){this._xpostag=a(n)}},{key:"feats",get:function(){return this._feats},set:function(n){this._feats=a(n)}},{key:"head",get:function(){return this._head},set:function(n){n=a(n);this.sentence.getTokenById(n);this._head=n}},{key:"deprel",get:function(){return this._deprel},set:function(n){this._deprel=a(n)}},{key:"deps",get:function(){return this._deps},set:function(n){this._deps=a(n)}},{key:"misc",get:function(){return this._misc},set:function(n){this._misc=a(n)}},{key:"isSubToken",get:function(){return null!==this.superToken}},{key:"isSuperToken",get:function(){return 0<this.subTokens.length}}]),r}();t.exports=r},{underscore:1}],3:[function(n,t,e){"use strict";t.exports={Sentence:n("./sentence"),Token:n("./token"),Analysis:n("./analysis")}},{"./analysis":2,"./sentence":4,"./token":5}],4:[function(n,t,e){"use strict";var r=function(){function r(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(n,t,e){return t&&r(n.prototype,t),e&&r(n,e),n}}();var u=n("underscore"),c=n("./token"),s={comment:/^\W*\#/,commentContent:/^\W*\#\W*(.*)/,superToken:/^\W*[0-9]+\-[0-9]+/},i=function(n){function t(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.comments=[],n.conlluLoaded=!1,n.cg3Loaded=!1,n.tokens=[],n}return function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}(t,Object),r(t,[{key:"forEach",value:function(n){for(var t=0,e=0;e<this.tokens.length;e++){var r=this.tokens[e];n(r,t),t++;for(var u=0;u<r.subTokens.length;u++)n(r.subTokens[u],t),t++}return this}},{key:"getComment",value:function(n){return this.comments[n]||null}},{key:"getToken",value:function(t){var e=0,r=null;return this.forEach(function(n){e===t&&(r=n),e++}),r}},{key:"getAnalysis",value:function(n){var t=this.getToken(n);return t?t.analysis:null}},{key:"getTokenById",value:function(n){for(var t=0;t<this.tokens.length;t++){var e=this.tokens[t];if(e.analysis.id==n)return e.analysis;0;for(var r=0;r<e.subTokens.length;r++){var u=e.subTokens[r];if(u.analysis.id==n)return u.analysis;0}}return null}},{key:"attachHeads",value:function(){}},{key:"length",get:function(){var t=0;return this.forEach(function(n){t++}),t}},{key:"conllu",get:function(){var n=u.map(this.comments,function(n){return"# "+n}),t=[],e=1;return u.each(this.tokens,function(n){e=n.index(e),t=t.concat(n.conllu)}),n.concat(t).join("\n")},set:function(n){this.comments=[],this.tokens=[];for(var t=n.split("\n"),e=0;e<t.length;e++)if(s.comment.test(t[e]))this.comments.push(t[e].match(s.commentContent)[1]);else if(s.superToken.test(t[e])){var r=t[e].match(s.superToken)[0].trim().split("-").map(function(n){return parseInt(n)}),u=new c(this);u.conllu=t[e];for(var i=r[0];i<=r[1];i++){var o=new c(this);o.conllu=t[i+this.comments.length],e++,u.insertSubToken(o)}this.tokens.push(u)}else if(t[e].trim().length){var a=new c(this);a.conllu=t[e],this.tokens.push(a)}return this.conllu}},{key:"cg3",get:function(){},set:function(n){}},{key:"params",get:function(){},set:function(n){}}]),t}();t.exports=i},{"./token":5,underscore:1}],5:[function(n,t,e){"use strict";var u=function(){function r(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(n,t,e){return t&&r(n.prototype,t),e&&r(n,e),n}}();var i=n("underscore"),o=n("./analysis");var r=function(n){function r(n){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.sentence=n,t._current=0,t.analyses=[null],t}return function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}(r,Object),u(r,[{key:"prev",value:function(){return 0<this._current&&this._current--,this}},{key:"next",value:function(){return this._current<this.length-1&&this._current++,this}},{key:"insertSubToken",value:function(n,t){if(void 0===t&&(t=n,n=this.analysis.length),!t instanceof r)return console.warn("token not an instance of Token"),!1;t.analysis.superToken=this.analysis;var e=this.analysis.subTokens;this.analysis.subTokens=e.slice(0,n).concat(t).concat(e.slice(n))}},{key:"removeSubToken",value:function(n){}},{key:"index",value:function(t){return this.isSuperToken?(this.analysis.id=t+"-"+(t+this.analysis.length-1),i.each(this.analysis.subTokens,function(n){n.analysis.id=""+t,t++})):(this.analysis.id=""+t,t++),t}},{key:"length",get:function(){return this.analyses.length}},{key:"current",get:function(){return this._current},set:function(n){return n=parseInt(n),isNaN(n)||n<0||n>this.length-1||(this._current=n),this.current}},{key:"analysis",get:function(){return this.analyses[this.current]||"not set"},set:function(n){this.analyses[this.current]=new o(this,n)}},{key:"subTokens",get:function(){return this.analysis.subTokens}},{key:"conllu",get:function(){if(this.isAmbiguous)throw new Error("Token is ambiguous, can't be converted to CoNNL-U");return[this.analysis.conllu].concat(i.map(this.analysis.subTokens,function(n){return n.analysis.conllu}))},set:function(n){var t=(n||"").split(/[ \n\t]+/);return this.analysis={form:t[1],lemma:t[2],upostag:t[3],xpostag:t[4],feats:t[5],head:t[6],deprel:t[7],deps:t[8],misc:t[9]},this.conllu}},{key:"cg3",get:function(){return this.analysis.cg3},set:function(n){throw new Error("CG3 not implemented yet")}},{key:"params",get:function(){return this.analysis.params},set:function(n){return this.analysis=n,this.params}},{key:"isSubToken",get:function(){return this.analysis.isSubToken}},{key:"isSuperToken",get:function(){return this.analysis.isSuperToken}},{key:"isAmbiguous",get:function(){return 1<this.length}}]),r}();t.exports=r},{"./analysis":2,underscore:1}]},{},[3]);